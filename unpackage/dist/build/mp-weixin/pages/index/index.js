(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{1644:function(t,e,n){"use strict";n.r(e);var r=n("e06d"),o=n("e73a");for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("b730");var a,u=n("f0c5"),c=Object(u["a"])(o["default"],r["b"],r["c"],!1,null,"18d777e9",null,!1,r["a"],a);e["default"]=c.exports},2861:function(t,e,n){"use strict";(function(t){n("343f"),n("a9ff");r(n("66fd"));var e=r(n("1644"));function r(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},"7d05":function(t,e,n){},b730:function(t,e,n){"use strict";var r=n("7d05"),o=n.n(r);o.a},e06d:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.newtime()),r=t.__map(t.todayCour,(function(e,n){var r=t.__get_orig(e),o=t.schtime(e[5]);return{$orig:r,m1:o}}));t.$mp.data=Object.assign({},{$root:{m0:n,l0:r}})},i=[]},e73a:function(t,e,n){"use strict";n.r(e);var r=n("f42b"),o=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=o.a},f42b:function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("a34a"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function u(t,e){if(t){if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if(null==t)return{};var n,r,o=s(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function s(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}function l(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(f){return void n(f)}u.done?e(c):Promise.resolve(c).then(r,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,u,"next",t)}function u(t){l(i,r,o,a,u,"throw",t)}a(void 0)}))}}var g=n("7995"),v=g.mixins,h=n("3ee3"),m=h.nor_date,p={data:function(){return{todayCour:[],week:0,notices:[],islogin:!1}},mixins:[v],mounted:function(){this.getnotice()},onShow:function(){this.getweek(),this.getcour(),this.get_login()},methods:{getweek:function(){var e=this;return d(o.default.mark((function n(){var i,a,u,c,s,l;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=t.getStorageSync("time"),i.firstday){n.next=10;break}return n.next=4,r.database().collection("newtime").limit(1).get();case 4:return a=n.sent,u=a.result.data[0],u._id,c=f(u,["_id"]),t.setStorageSync("time",c),s=parseInt(((new Date).getTime()-c.firstday)/6048e5+1),e.week=s,n.abrupt("return");case 10:l=parseInt(((new Date).getTime()-i.firstday)/6048e5+1),e.week=l;case 12:case"end":return n.stop()}}),n)})))()},getcour:function(){var t=this,e=[];this.courses.forEach((function(n){var r=t.week,o=n[4]==(new Date).getDay()&&(n[2][0]<=r&&r<=n[2][1]||n[2][2]<=r&&r<=n[2][3])&&(!n[3]||n[3]%2==r%2);o&&e.push(n)})),this.todayCour=e},getnotice:function(){var e=this,n=[];t.request({url:"https://www.ahszu.edu.cn/xxxw/tzgg.htm",success:function(){var t=d(o.default.mark((function t(r){var i,u,c,f;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=/style="list-style: none;"><IMG.*?<A title="(.*?)"\shref="\.\.\/(.*?)"[\s\S]*?\(<FON[\s\S]*?>(.*?)</g,u=a(r.data.matchAll(i));try{for(u.s();!(c=u.n()).done;)f=c.value,n.push([f[1],f[2],f[3]])}catch(o){u.e(o)}finally{u.f()}e.notices=n;case 4:case"end":return t.stop()}}),t)})));function r(e){return t.apply(this,arguments)}return r}()})},schtime:function(t){var e=["8:05","9:00","10:05","11:00","14:40","15:35","16:30","17:25","19:00","19:55"];if(isNaN(t[0]))return"中午";if(t[0]<5){var n=e[1*t[0]-1];return"上午 "+n}if(4<t[0]&&t[0]<9){var r=e[1*t[0]-1];return"下午 "+r}if(8<t[0]){var o=e[1*t[0]-1];return"晚上 "+o}},show_info:function(e){t.showToast({title:"教师：".concat(e[1],"\r\n地点：").concat(e[6]),icon:"none",duration:2800})},get_login:function(){var e=this;console.log("get_loginget_loginget_loginget_loginget_loginget_loginget_loginget_loginget_login"),t.getStorage({key:"user",success:function(t){t.data.username&&(e.islogin=!0)}})},newtime:function(){var t=["日","一","二","三","四","五","六"],e=new Date,n=m(e.getTime()).replace(/\//,"."),r=t[e.getDay()];return"".concat(n," | 周").concat(r)}}};e.default=p}).call(this,n("543d")["default"],n("a9ff")["default"])}},[["2861","common/runtime","common/vendor"]]]);