(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{19:function(t,e,n){"use strict";(function(t){n(5),n(6);r(n(4));var e=r(n(20));function r(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n(1)["createPage"])},20:function(t,e,n){"use strict";n.r(e);var r=n(21),o=n(23);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n(30);var u,a=n(17),c=Object(a["default"])(o["default"],r["render"],r["staticRenderFns"],!1,null,"57280228",null,!1,r["components"],u);c.options.__file="pages/index/index.vue",e["default"]=c.exports},21:function(t,e,n){"use strict";n.r(e);var r=n(22);n.d(e,"render",(function(){return r["render"]})),n.d(e,"staticRenderFns",(function(){return r["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return r["recyclableRender"]})),n.d(e,"components",(function(){return r["components"]}))},22:function(t,e,n){"use strict";var r;n.r(e),n.d(e,"render",(function(){return o})),n.d(e,"staticRenderFns",(function(){return u})),n.d(e,"recyclableRender",(function(){return i})),n.d(e,"components",(function(){return r}));var o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.newtime()),r=t.__map(t.todayCour,(function(e,n){var r=t.__get_orig(e),o=t.schtime(e[5]);return{$orig:r,m1:o}}));t.$mp.data=Object.assign({},{$root:{m0:n,l0:r}})},i=!1,u=[];o._withStripped=!0},23:function(t,e,n){"use strict";n.r(e);var r=n(24),o=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=o.a},24:function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(7));function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function a(t,e){if(t){if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){if(null==t)return{};var n,r,o=f(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function f(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}function l(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value}catch(s){return void n(s)}a.done?e(c):Promise.resolve(c).then(r,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){l(i,r,o,u,a,"next",t)}function a(t){l(i,r,o,u,a,"throw",t)}u(void 0)}))}}var g=n(25),v=g.mixins,m=n(29),p=m.nor_date,h={data:function(){return{todayCour:[],week:0,notices:[],islogin:!1}},mixins:[v],mounted:function(){this.getnotice()},onShow:function(){this.getweek(),this.getcour(),this.get_login()},methods:{getweek:function(){var e=this;return d(o.default.mark((function n(){var i,u,a,c,f,l;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=t.getStorageSync("time"),i.firstday){n.next=10;break}return n.next=4,r.database().collection("newtime").limit(1).get();case 4:return u=n.sent,a=u.result.data[0],a._id,c=s(a,["_id"]),t.setStorageSync("time",c),f=parseInt(((new Date).getTime()-c.firstday)/6048e5+1),e.week=f,n.abrupt("return");case 10:l=parseInt(((new Date).getTime()-i.firstday)/6048e5+1),e.week=l;case 12:case"end":return n.stop()}}),n)})))()},getcour:function(){var t=this,e=[];this.courses.forEach((function(n){var r=t.week,o=n[4]==(new Date).getDay()&&(n[2][0]<=r&&r<=n[2][1]||n[2][2]<=r&&r<=n[2][3])&&(!n[3]||n[3]%2==r%2);o&&e.push(n)})),this.todayCour=e},getnotice:function(){var e=this,n=[];t.request({url:"https://www.ahszu.edu.cn/xxxw/tzgg.htm",success:function(){var t=d(o.default.mark((function t(r){var i,a,c,s;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=/style="list-style: none;"><IMG.*?<A title="(.*?)"\shref="\.\.\/(.*?)"[\s\S]*?\(<FON[\s\S]*?>(.*?)</g,a=u(r.data.matchAll(i));try{for(a.s();!(c=a.n()).done;)s=c.value,n.push([s[1],s[2],s[3]])}catch(o){a.e(o)}finally{a.f()}e.notices=n;case 4:case"end":return t.stop()}}),t)})));function r(e){return t.apply(this,arguments)}return r}()})},schtime:function(t){var e=["8:05","9:00","10:05","11:00","14:40","15:35","16:30","17:25","19:00","19:55"];if(isNaN(t[0]))return"中午";if(t[0]<5){var n=e[1*t[0]-1];return"上午 "+n}if(4<t[0]&&t[0]<9){var r=e[1*t[0]-1];return"下午 "+r}if(8<t[0]){var o=e[1*t[0]-1];return"晚上 "+o}},show_info:function(e){t.showToast({title:"教师：".concat(e[1],"\r\n地点：").concat(e[6]),icon:"none",duration:2800})},get_login:function(){var e=this;console.log("get_loginget_loginget_loginget_loginget_loginget_loginget_loginget_loginget_login"),t.getStorage({key:"user",success:function(t){t.data.username&&(e.islogin=!0)}})},newtime:function(){var t=["日","一","二","三","四","五","六"],e=new Date,n=p(e.getTime()).replace(/\//,"."),r=t[e.getDay()];return"".concat(n," | 周").concat(r)}}};e.default=h}).call(this,n(1)["default"],n(6)["default"])},30:function(t,e,n){"use strict";n.r(e);var r=n(31),o=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=o.a},31:function(t,e,n){}},[[19,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/index.js.map